<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:Nexi.UI.ViewModels"
             xmlns:material="using:Material.Icons.Avalonia"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="Nexi.UI.Views.ModelsView"
             x:CompileBindings="True"
             x:DataType="vm:ModelsViewModel">

  <Grid RowDefinitions="Auto,*">
    <!-- Header -->
    <Border Grid.Row="0"
            Background="{DynamicResource SystemChromeMediumColor}"
            BoxShadow="0 2 8 0 #30000000">
      <Grid ColumnDefinitions="*,Auto" Margin="32,24">
        <StackPanel Grid.Column="0" Spacing="8">
          <TextBlock Text="AI Models"
                   FontFamily="Cascadia Code"
                   FontSize="32"
                   FontWeight="SemiBold"
                   Foreground="{DynamicResource SystemAccentColor}"/>
          <TextBlock Text="Manage your AI models"
                   FontSize="16"
                   Opacity="0.7"/>
        </StackPanel>
      </Grid>
    </Border>

    <!-- Models List -->
    <ScrollViewer Grid.Row="1">
      <ItemsControl ItemsSource="{CompiledBinding AvailableModels}"
                   Margin="32">
        <ItemsControl.ItemsPanel>
          <ItemsPanelTemplate>
            <StackPanel Spacing="16"/>
          </ItemsPanelTemplate>
        </ItemsControl.ItemsPanel>
        <ItemsControl.ItemTemplate>
          <DataTemplate x:DataType="vm:AIModel">
            <Border Background="{DynamicResource SystemChromeMediumColor}"
                    CornerRadius="12"
                    BoxShadow="0 2 8 0 #30000000">
              <Grid ColumnDefinitions="Auto,*,Auto" Margin="24,20">
                <!-- Icon -->
                <Border Grid.Column="0"
                        Width="48"
                        Height="48"
                        CornerRadius="24"
                        Background="{DynamicResource SystemAccentColor}">
                  <material:MaterialIcon Kind="Brain"
                                       Width="24"
                                       Height="24"
                                       Foreground="White"/>
                </Border>

                <!-- Model Info -->
                <StackPanel Grid.Column="1"
                          Margin="20,0"
                          VerticalAlignment="Center"
                          Spacing="4">
                  <TextBlock Text="{CompiledBinding Name}"
                           FontSize="18"
                           FontWeight="SemiBold"/>
                  <TextBlock Text="{CompiledBinding Description}"
                           FontSize="14"
                           Opacity="0.7"/>
                  <StackPanel Orientation="Horizontal"
                            Spacing="16"
                            Margin="0,8,0,0">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                      <material:MaterialIcon Kind="Database"
                                           Opacity="0.7"/>
                      <TextBlock Text="{CompiledBinding Size}"
                               Opacity="0.7"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Spacing="8">
                      <material:MaterialIcon Kind="Tag"
                                           Opacity="0.7"/>
                      <TextBlock Text="{CompiledBinding Version}"
                               Opacity="0.7"/>
                    </StackPanel>
                  </StackPanel>
                </StackPanel>

                <!-- Status -->
                <Border Grid.Column="2"
                        Background="{CompiledBinding Status, Converter={StaticResource ModelStatusToBrushConverter}}"
                        CornerRadius="20"
                        Padding="16,8"
                        VerticalAlignment="Top">
                  <TextBlock Text="{CompiledBinding Status}"
                           FontSize="14"
                           Foreground="White"/>
                </Border>
              </Grid>
            </Border>
          </DataTemplate>
        </ItemsControl.ItemTemplate>
      </ItemsControl>
    </ScrollViewer>
  </Grid>
</UserControl>