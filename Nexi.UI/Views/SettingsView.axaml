<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:Nexi.UI.ViewModels"
             xmlns:material="using:Material.Icons.Avalonia"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="Nexi.UI.Views.SettingsView"
             x:CompileBindings="True"
             x:DataType="vm:SettingsViewModel">

  <Grid RowDefinitions="Auto,*">
    <!-- Header -->
    <Border Grid.Row="0"
            Background="{DynamicResource SystemChromeMediumColor}"
            BoxShadow="0 2 8 0 #30000000">
      <Grid ColumnDefinitions="*,Auto" Margin="32,24">
        <StackPanel Grid.Column="0" Spacing="8">
          <TextBlock Text="Settings"
                   FontFamily="Cascadia Code"
                   FontSize="32"
                   FontWeight="SemiBold"
                   Foreground="{DynamicResource SystemAccentColor}"/>
          <TextBlock Text="Configure your Nexi experience"
                   FontSize="16"
                   Opacity="0.7"/>
        </StackPanel>
      </Grid>
    </Border>

    <!-- Settings Content -->
    <ScrollViewer Grid.Row="1">
      <StackPanel Margin="32" Spacing="24">
        <!-- AI Model Settings -->
        <Border Background="{DynamicResource SystemChromeMediumColor}"
                CornerRadius="12"
                BoxShadow="0 2 8 0 #30000000">
          <StackPanel Margin="24,20">
            <StackPanel Orientation="Horizontal"
                      Spacing="12"
                      Margin="0,0,0,16">
              <material:MaterialIcon Kind="Brain"
                                   Width="24"
                                   Height="24"
                                   Foreground="{DynamicResource SystemAccentColor}"/>
              <TextBlock Text="AI Model Settings"
                       FontSize="20"
                       FontWeight="SemiBold"/>
            </StackPanel>

            <StackPanel Spacing="16">
              <ComboBox SelectedIndex="{CompiledBinding SelectedModelIndex}"
                      Width="300"
                      HorizontalAlignment="Left">
                <ComboBoxItem>LLaMA 7B</ComboBoxItem>
                <ComboBoxItem>Mistral 7B</ComboBoxItem>
                <ComboBoxItem>LLaMA 13B</ComboBoxItem>
              </ComboBox>

              <CheckBox Content="Use GPU Acceleration"
                      IsChecked="{CompiledBinding UseGPU}"/>
            </StackPanel>
          </StackPanel>
        </Border>

        <!-- Voice Settings -->
        <Border Background="{DynamicResource SystemChromeMediumColor}"
                CornerRadius="12"
                BoxShadow="0 2 8 0 #30000000">
          <StackPanel Margin="24,20">
            <StackPanel Orientation="Horizontal"
                      Spacing="12"
                      Margin="0,0,0,16">
              <material:MaterialIcon Kind="Microphone"
                                   Width="24"
                                   Height="24"
                                   Foreground="{DynamicResource SystemAccentColor}"/>
              <TextBlock Text="Voice Settings"
                       FontSize="20"
                       FontWeight="SemiBold"/>
            </StackPanel>

            <StackPanel Spacing="16">
              <ComboBox SelectedIndex="{CompiledBinding SelectedInputDeviceIndex}"
                      Width="300"
                      HorizontalAlignment="Left">
                <ComboBoxItem>Default Microphone</ComboBoxItem>
                <ComboBoxItem>Headset Microphone</ComboBoxItem>
              </ComboBox>

              <StackPanel Spacing="8">
                <TextBlock Text="Input Sensitivity"
                         Opacity="0.7"/>
                <Slider Value="{CompiledBinding InputSensitivity}"
                        Minimum="0"
                        Maximum="100"
                        Width="300"
                        HorizontalAlignment="Left"/>
              </StackPanel>
            </StackPanel>
          </StackPanel>
        </Border>

        <!-- Interface Settings -->
        <Border Background="{DynamicResource SystemChromeMediumColor}"
                CornerRadius="12"
                BoxShadow="0 2 8 0 #30000000">
          <StackPanel Margin="24,20">
            <StackPanel Orientation="Horizontal"
                      Spacing="12"
                      Margin="0,0,0,16">
              <material:MaterialIcon Kind="Palette"
                                   Width="24"
                                   Height="24"
                                   Foreground="{DynamicResource SystemAccentColor}"/>
              <TextBlock Text="Interface Settings"
                       FontSize="20"
                       FontWeight="SemiBold"/>
            </StackPanel>

            <StackPanel Spacing="16">
              <StackPanel Orientation="Horizontal"
                          Spacing="8"
                          VerticalAlignment="Center">
                <TextBlock Text="Theme"
                          VerticalAlignment="Center"
                          Width="120"/>
                <ComboBox SelectedItem="{CompiledBinding SelectedTheme}"
                         Width="200"
                         ItemsSource="{CompiledBinding ThemeOptions}"/>
              </StackPanel>

              <StackPanel Orientation="Horizontal"
                          Spacing="8"
                          VerticalAlignment="Center">
                <TextBlock Text="Accent Color"
                          VerticalAlignment="Center"
                          Width="120"/>
                <CheckBox IsChecked="{CompiledBinding UseSystemAccent}"
                         Content="Use System Accent Color"/>
              </StackPanel>
            </StackPanel>
           </StackPanel>
        </Border>
      </StackPanel>
    </ScrollViewer>
  </Grid>
</UserControl>